<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cadastro de propriedades</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!--Import Google Icon Font-->
    <link
      rel="stylesheet"
      href="http://fonts.googleapis.com/icon?family=Material+Icons"
    />

    <!-- Import Font Awesome Icon Font -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
      integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
      crossorigin="anonymous"
    />

    <!-- Estilos CSS do Bootstrap -->
    <link
      rel="stylesheet"
      href="node_modules/bootstrap/dist/css/bootstrap.min.css"
    />

    <!-- styles -->
    <link rel="stylesheet" href="assets/resources/styles/style.css" />

    <link rel="icon" type="image/png" href="favicon.png" />

    <!-- Referência para o nodemodules-->
    <link
      rel="stylesheet"
      href="node_modules/materialize-css/dist/css/materialize.min.css"
    />
  </head>

  <body>
    <!-- navbar -->
    <div class="navbar-fixed">
      <nav class="">
        <div class="container">
          <div class="nav-wrapper">
            <a href="index.html" class="brand-logo em">WebHouses</a>
            <!-- hamburger icon for the mobile menu -->
            <a href="#" data-target="slide-out" class="sidenav-trigger">
              <i class="material-icons">menu</i>
            </a>
            <ul class="right hide-on-med-and-down">
              <li>
                <a href="index.html">Início</a>
              </li>
              <li>
                <a href="cadastro-propriedades.html">Novas propriedades</a>
              </li>
              <li>
                <a href="cadastro-usuario.html">Usuários</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
    <!-- navbar -->

    <!-- painel de navegação lateral -->
    <ul class="sidenav" id="slide-out">
      <li>
        <a href="index.html">Início</a>
      </li>
      <li>
        <a href="cadastro-propriedades.html">Novas propriedades</a>
      </li>
      <li>
        <a href="cadastro-usuario.html">Usuários</a>
      </li>
    </ul>
    <!-- painel de navegação lateral -->

    <!-- main -->
    <main>
      <div class="container">
        <h4>Cadastro de imóveis</h4>

        <!-- section formulário de cadastro -->
        <form id="formCadastro">
          <label for="imagem">Imagem (URL):</label>
          <input type="url" id="imagem" />

          <label for="valor">Valor (R$):</label>
          <input
            type="text"
            id="valor"
            required
            pattern="^\d+(\.\d{1,2})?$"
            title="Insira um valor numérico válido."
          />

          <label for="descricao">Descrição:</label>
          <input type="text" id="descricao" required />

          <label for="tamanho">Tamanho (m²):</label>
          <input type="number" id="tamanho" required />

          <button type="submit">Cadastrar</button>
        </form>
        <!-- section - cards de acomodações -->
      </div>
    </main>
    <!-- main -->

    <!-- footer -->
    <footer class="rodape section white-text center">
      <p class="flow-text truncate">Guaratur &copy; 2018</p>
    </footer>
    <!-- footer -->

    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/resources/scripts/index.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script>
      document
        .getElementById("formCadastro")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          const imagem = document.getElementById("imagem").value;
          const valor = document.getElementById("valor").value;
          const descricao = document.getElementById("descricao").value;
          const tamanho = document.getElementById("tamanho").value;

          const propriedade = { imagem, valor, descricao, tamanho };

          let propriedades =
            JSON.parse(localStorage.getItem("propriedades")) || [];
          propriedades.push(propriedade);
          localStorage.setItem("propriedades", JSON.stringify(propriedades));

          alert("Imóvel cadastrado com sucesso!");
          this.reset();
        });
    </script>
  </body>
</html>
